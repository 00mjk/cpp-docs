---
title: c33011
keywords: c33011
author: hwisungi
ms.author: hwisungi
ms.date: 06/20/2020
ms.topic: reference
f1_keywords: ["C33011"]
helpviewer_keywords: ["C33011"]
dev_langs: ["C++"]
---
# C33011

> Warning C33011: Unchecked upper bound for enum 'enum' used as index.

This warning is triggered when the lower bound of the enum used as index into an array is checked,
but the upper bound is not checked.

## Example

Code using enumerated types as indexes into arrays must check the enum value for both lower and
upper bounds. If the enum value is checked only for the lower bound and used to index an array,
or worse an array of function pointers, then it can lead to potentially arbitrary memory being read,
used and/or executed.

```cpp
typedef void (*PFN)();

enum class Index
{
    Zero,
    One,
    Two,
    Three,
    Max
};

void foo(Index idx, PFN(&functions)[5])
{
    if (idx < Index::Zero)
        return;

    auto pfn = functions[static_cast<int>(idx)];    // C33011
    if (pfn != nullptr)
        (*pfn)();
    // ......
}
```
These warnings are corrected by declaring the enum as enum class:

```cpp
typedef void (*PFN)();

enum class Index
{
    Zero,
    One,
    Two,
    Three,
    Max
};

void foo(Index idx, PFN(&functions)[5])
{
    if (idx < Index::Zero || idx > Index::Max)
        return;

    auto pfn = functions[static_cast<int>(idx)];    // OK
    if (pfn != nullptr)
        (*pfn)();
    // ......
}
```

## See also

[C33010](/cpp/code-quality/c33010)
